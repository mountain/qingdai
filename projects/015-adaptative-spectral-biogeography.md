# Project 015: 生态适应与光谱生物地理学 (Ecological Adaptation & Spectral Biogeography)

## 0. 状态 (2025-09-23)
- [ ] 文档与方案定稿 (本文件)
- [ ] M1: 气候稳态环境档案生成器
- [ ] M2: 光合作用适应性规则集 (陆地与海洋)
- [ ] M3: 动态生物反照率反馈模块
- [ ] M4: “盖亚假说”对比模拟实验 (生命行星 vs. 参照行星)
- [ ] M5: 全球光谱生物地理图谱可视化

**关联模块**: 所有物理气候模块 (P006-P014)，特别是能量收支 (P006)、海洋模型 (P011) 和水文模型 (P014)。

---

## 1. 背景与动机

从“叶子为什么是绿色的？”这个问题出发，我们推演出一个核心假说：在一个行星系统内，生命的颜色（即其对恒星光谱的反射特征）是其光合作用策略对局地能量环境的一种深刻适应。当地球因其在宜居带内侧的位置而演化出反射光谱峰值（绿色）的策略以避免灼伤时，一个处于不同位置、拥有不同光谱恒星的行星，其生命颜色和地表反照率可能会截然不同。

“青黛”世界为这一假说提供了一个完美的天然实验室。它环绕一个由G6V型黄星和K1V型橙矮星组成的双星系统运行，其光照环境在强度和光谱上都存在剧烈的“脉冲季”波动。这使得“避免伤害”与“最大化吸收”的生存策略矛盾被推向了极致。

**本项目目标**：将我们的GCM从一个纯粹的物理气候模拟器，升级为一个可以探索**生物-地球物理反馈 (bio-geophysical feedback)** 的思想实验平台。我们将模拟生命如何通过改变自身颜色来适应环境，并进一步探讨这种适应性演化是否反过来对行星气候的稳定性产生了影响——这正是对**盖亚假说**的一次全新角度的计算性检验。

---

## 2. 核心假说

我们将通过本项目的模拟实验，来检验以下三个相互关联的假说：

1.  **适应性反照率假说**: 生命（陆地植物和海洋浮游生物）会根据局地的水、光、热条件，演化出不同的颜色，从而改变地表的`base_albedo`。在能量充沛区，反照率会升高（反射强光）；在能量稀缺区，反照率会降低（吸收弱光）。
2.  **生物-气候反馈假说**: 生命通过调节地表反照率，将直接影响行星的能量收支，从而主动地改变和塑造其自身所生存的气候环境。
3.  **盖亚稳定性假说**: 这种由生命驱动的反馈循环，会倾向于增强整个气候系统的稳定性，例如通过抑制由“脉冲季”等天文学因素引起的极端温度波动，从而扩展整个行星的宜居性。

---

## 3. 建模策略与实施路径

我们将设计一个经典的控制实验，对比一个“死”的青黛和一个“活”的青黛的气候演化。

### 3.1 阶段一：精细刻画局地生境

* **操作**: 在完成 P014 (水文路由) 后，我们将运行一次完整的、长达数百年的 `spin-up`，直到气候系统达到统计学上的稳定平衡态。
* **输出**: 生成一份高分辨率的“**青黛环境档案**” NetCDF 文件。该文件将包含每个陆地和海洋网格点多年平均的关键气候变量，例如：
    * **光**: 年平均总日照、季节性光照变率、双星光谱成分比。
    * **热**: 年平均温度、年温差、日温差。
    * **水**: 年平均降水量、蒸发量，以及由P014提供的河流流量和湖泊可用性。

### 3.2 阶段二：建立生态适应规则集

* **操作**: 创建一个新的模块 `pygcm/ecology.py`，其中包含一个函数 `calculate_adaptive_albedo(environmental_archive)`。该函数将根据阶段一的输出，为每个格点计算出一个“最优”的反照率。
* **规则示例**:
    * **陆地**:
        * `if 光照 > 阈值_光_高 AND 年温差 < 阈值_温差_低`: `albedo = 0.4` (例如，反射黄橙光，呈现**青色**)。
        * `if 光照 < 阈值_光_低 OR 平均温度 < 阈值_温_低`: `albedo = 0.1` (例如，吸收所有光，呈现**深红/黑色**)。
    * **海洋**:
        * 规则与陆地类似，但可以额外引入营养盐作为代理（例如，由洋流上升流区指示），因为浮游生物的繁盛不仅需要光，还需要养分。
* **输出**: 一张静态的、基于平衡态气候预测的**全球光谱生物地理图谱**。

### 3.3 阶段三：“盖亚假说”对比模拟

这是本项目的核心实验。我们将进行两次独立的、长周期的GCM模拟：

1.  **控制组 (死寂行星)**:
    * 使用P004生成的、基于纯物理和地理因素的静态 `base_albedo_map`。
    * 从平衡态重启文件开始，运行数百年。

2.  **实验组 (生命行星)**:
    * 从完全相同的初始状态开始。
    * 在模拟运行时，**启用动态生物反照率反馈**。例如，每隔一个行星年，GCM就会调用 `calculate_adaptive_albedo` 函数，根据过去一年的气候条件，**动态地更新**整个行星的 `base_albedo_map`。这个更新后的反照率将立即影响到后续的能量平衡计算。

### 3.4 关键输出与分析

* **时间序列对比**: 对比两个模拟的全球平均温度、海冰面积等关键指标的时间序列。我们将重点分析“生命行星”的温度曲线是否比“死寂行星”**更平滑、振幅更小**。
* **空间分布对比**: 对比两个模拟的最终气候区划图和宜居区范围。检验生命的存在是否**扩大**了温和气候区的面积。
* **扰动恢复实验 (可选)**: 对两个已达平衡的模拟施加相同的外部冲击（如模拟火山喷发，临时调低全球日照），然后比较两者恢复到原稳定状态的速度。

---

## 4. 与其他项目的交叉引用

本项目是我们整个GCM开发的顶层应用，它几乎依赖于之前所有物理模块的坚实基础：
* **P006 (能量)**: 为生命提供能量输入，并接收生命调节后的反照率作为反馈。
* **P011/P007 (海洋/海冰)**: 提供海洋的热量输送和冰雪覆盖，这是决定局地能量平衡的关键因素。
* **P014 (水文)**: 提供河流和湖泊的分布，这是决定陆地生命能否繁荣的最重要指标之一。

通过这个项目，我们将真正实现一个**双向耦合的地球系统模型**的简化版，在这里，物理环境塑造生命，而生命也反过来塑造它的家园。